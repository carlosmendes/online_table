<% provide(:menu, "products") %>

<div class="page-header">
  <%= link_to new_product_path, class: 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-plus"></span>
    New Product
  <% end %>
  <h1>Products</h1>
</div>

<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
            <th>Name</th>
            <th>Short name</th>
            <th>Price</th>
            <th>Category</th>
            <th>Sub category</th>
            <th>Order</th>
            <th>Active</th>
            <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <%= content_tag_for(:tr, @products) do |product| %>
            <td><%= product.name %></td>
            <td><%= product.short_name %></td>
            <td><%= number_to_currency(product.price) %></td>
            <td><%= link_to product.category.name, product.category unless product.category.nil? %></td>
            <td><%= link_to product.sub_category.name, product.sub_category unless product.sub_category.nil? %></td>
            <td><%= product.order %></td>
            <td><%= product.active %></td>
            <td><%= link_to 'Show', product %></td>
        <td><%= link_to 'Edit', edit_product_path(product) %></td>
        <td><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      <% end %>
    </tbody>
  </table>
</div>
